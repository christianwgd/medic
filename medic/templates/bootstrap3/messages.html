<!-- Damit das messages-Template ueberschrieben werden kann, muss bootstrap3 hinter der nutzenden App in den settings stehen! -->
<!-- Im Base-Template: <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-growl/1.0.0/jquery.bootstrap-growl.min.js"></script> -->
{% block bootstrap3_extra_script %}
<script>
    var errors = [];
    {% for message in messages %}
    var error = {type: "{{ message.tags }}", text: "{{ message|safe }}", icon: ""};
    switch(error.type) {
        case "success":
            error.icon = "far fa-lg fa-";
            break;
        case "warning":
            error.icon = "far fa-lg fa-";
            break;
        case "error":
            error.icon = "far fa-lg fa-";
            error.type = "danger";
            break;
        default: // info
            error.icon = "far fa-lg fa-";
    }
    errors.push(error);
    {% endfor %}

    errors.forEach(function(entry) {
        $.notify({
            // options
            //icon: 'glyphicon glyphicon-warning-sign'
            message: error.text
        },{
            // settings
            type: error.type,
            placement: {
                from: "top",
                align: "right"
            },
            offset: {
                x: 10,
                y: 65
            },
            animate: {
                enter: 'animated fadeInRight',
                exit: 'animated fadeOutRight'
            }
        });
    });
</script>
{% endblock %}